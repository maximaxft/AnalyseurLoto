{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.79.0">
    <title>Analyseur Loto</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/product/">
    <!-- CSS -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Ballet&family=Lexend+Mega&display=swap" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300&display=swap" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css2?family=Palanquin&display=swap" rel="stylesheet"> 
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <link href="//db.onlinewebfonts.com/c/d5aff7f631de2f24858ba96a581f4aef?family=Tablet+Gothic" rel="stylesheet" type="text/css"/> 

    <!-- Favicons -->
<link rel="apple-touch-icon" href="/docs/5.0/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/docs/5.0/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/docs/5.0/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/docs/5.0/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="/docs/5.0/assets/img/favicons/safari-pinned-tab.svg" color="#7952b3">
<link rel="icon" href="/favicon.ico">
<meta name="theme-color" content="#7952b3">


    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>

    <!-- Bootstrap core CSS -->
<link href="../../../static/bootstrap-dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
<link href="../../../static/bootstrap-dist/css/product.css" rel="stylesheet">
  </head>
  <body>
    
<header class="site-header">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="#" aria-label="Product">Analyseur Loto</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Accueil</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Graphiques</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Nous aider</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- Background image -->
  <div style="position: relative;background-image: url({% static 'images/loto_background.png' %});height: 900px;background-attachment: fixed;background-size: cover; text-align: center;">
  <div class="p-5 text-center bg-image" style="vertical-align: middle; height: 100%;">
      <div class="d-flex justify-content-center align-items-center h-100">
        <div class="titretexte">
          <h1 class="mb-3">Analyseur Loto</h1>
          <span class="change"></span> <br>
          <!-- <h4 class="mb-3">Vous en avez marre de cuisiner mais vous aimez manger de bons plats ?</h4> -->
          <a class="btn btn-outline-light btn-lg" style="margin-top: 50px;" href="#!" role="button">Découvrir le project</a>
        </div>
      </div>
</div>
<div style="position: absolute;bottom: 0;">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
    <path fill="rgb(223, 238, 245)" fill-opacity="1" d="M0,64L40,69.3C80,75,160,85,240,122.7C320,160,400,224,480,234.7C560,245,640,203,720,186.7C800,171,880,181,960,176C1040,171,1120,149,1200,122.7C1280,96,1360,64,1400,48L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"></path>
  </svg>
</div>
</div>
<!-- Background image -->
</header>
<!-- Vision -->
<main style="background-color: whitesmoke;">
  <!--
  <div class="container-fluid">
    <div class="row align-items-center sep">
      <div class="col-sm-12 align-self-center">
        
      </div>
    </div>
  </div>
  -->
  <div class="container-fluid" style="padding-top: 100px;background-color: rgb(223, 238, 245)">
    <div class=" row poly text-center" style="padding-bottom: 200px;padding-top: 100px;">
      <div class="col-4" style="min-height: 100px;"></div>
      <div class= "col">
        <!-- <h2>Le Projet</h2>
        <div class="trait"> </div> -->
        <p class="paravision" style="font-size: 1.2em;">Analyseur Loto vous aide dans vos analyses :<br><br>
          - Personnalisez les graphiques et interprétez comme bon vous semble.<br>
        - Des données à jour sous 24h.<br><br>
      Vous ne voulez plus jouer au hasard, reprenez le contrôle grâce à Analyseur Loto.</p>
      </div>
      <div class="col-4" style="min-height: 100px;"></div>
    </div>
    <!-- GRAPHIQUE OCCURENCES -->
    <div class=" row poly text-center" style="padding-bottom: 200px;padding-top: 100px;">
      <div class="col-3" style="min-height: 100px;"></div>
      <div class="col"><canvas id="myChart" height="200"></canvas></div>
      <div class="col-3" style="min-height: 100px;"></div>
    </div>
    

</div>
<div style="height: 300px;">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
    <path fill="rgb(223,238,245)" fill-opacity="1" d="M0,320L40,309.3C80,299,160,277,240,266.7C320,256,400,256,480,250.7C560,245,640,235,720,202.7C800,171,880,117,960,85.3C1040,53,1120,43,1200,32C1280,21,1360,11,1400,5.3L1440,0L1440,0L1400,0C1360,0,1280,0,1200,0C1120,0,1040,0,960,0C880,0,800,0,720,0C640,0,560,0,480,0C400,0,320,0,240,0C160,0,80,0,40,0L0,0Z"></path>
  </svg>
</div>
  <div style="width:100%; margin-left: auto; margin-right: auto;background-color: whitesmoke;">
    <div class="container text-center" style="padding-top: 100px;">
      <div class="vision lexend" style="color:black;">
        <h2>Occurences par groupe</h2>
        <div class="trait"> </div>
      </div>
    </div>






    <!-- GRAPHIQUE OCCURENCES PAR GROUPE-->
    <div class=" row poly text-center" style="padding-bottom: 200px;padding-top: 100px;">
      <div class="col-3" style="min-height: 100px;">
        <label for="cars">Occurences</label>

        <select name="occurences" id="occurences">
          <option value="Dixaines">Dixaines</option>
          <option value="Vingtaines">Vingtaines</option>
          <option value="Trentaines">Trentaines</option>
          <option value="Quarantaines">Quarantaines</option>
        </select> 
      </div>
      <div class="col"><canvas id="myChart2" height="200"></canvas></div>
      <div class="col-3" style="min-height: 100px;"></div>
    </div>
    <div class=" row poly text-center" style="padding-bottom: 200px;padding-top: 100px;">
      <div class="col-3" style="min-height: 100px;"></div>
      <div class="col"><canvas id="myChart3" height="200"></canvas></div>
      <div class="col-3" style="min-height: 100px;"></div>
    </div>
    <div class=" row poly text-center" style="padding-bottom: 200px;padding-top: 100px;">
      <div class="col-3" style="min-height: 100px;">
        <div class="input-group mb-3">
          <input type="text" id="num_a_envoyer1" class="form-control" placeholder="Numéro à analyser">
          <input type="submit" id="ajax-call1" class="btn btn-primary mb-2" value="Calculer">
      </div>
      </div>
      <div class="col-6"><canvas id="myChart_parNum" height="200"></canvas></div>
    </div>
    <div class=" row poly text-center" style="padding-bottom: 200px;padding-top: 100px;">
      <div class="col-3" style="min-height: 100px;">
        <div class="input-group mb-3">
            <input type="text" id="num_a_envoyer2" class="form-control" placeholder="Numéro à analyser">
            <input type="submit" id="ajax-call2" class="btn btn-primary mb-2" value="Calculer">
        </div>
      </div>
      <div class="col-6"><canvas id="myChart_ApparitionNum" height="200"></canvas></div>
    </div>
  </div>
</main>

<div class="bg-dark">
<footer class="container py-5 bg-dark">
  <div class="row">
    <div class="col-12 col-md bg-dark">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="d-block mb-2" role="img" viewBox="0 0 24 24"><title>Product</title><circle cx="12" cy="12" r="10"/><path d="M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"/></svg>
      <small class="d-block mb-3 text-muted">&copy; 2017-2021</small>
    </div>
    <div class="col-6 col-md">
      <ul class="list-unstyled text-small">
        <p style="color: white">Contact : <a href="mailto:automationroom@gmail.com">automationroom@gmail.com</a></p>
        <li><a class="link-secondary" href="#">Credits</a></li>
      </ul>
    </div>
    <div class="col-10 col-md" style="color: white;">
      <ul class="list-unstyled text-small">
        <label for="exampleInputEmail1" class="form-label">Sign up with your email address to receive news and updates.</label>
        <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Email Adresse">
        <button type="submit" class="btn btn-primary">Submit</button>
      </ul>
    </div>
  </div>
</footer>
</div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.0/chart.min.js" integrity="sha512-asxKqQghC1oBShyhiBwA+YgotaSYKxGP1rcSYTDrB0U6DxwlJjU59B67U8+5/++uFjcuVM8Hh5cokLjZlhm3Vg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    

    <!-- SCRIPT POUR GRAPHIQUE -->
    <script>
      var ctx = document.getElementById('myChart').getContext('2d');
      //console.log("{{x}}");
      var myChart = new Chart(ctx, {
          type: 'line',
          data: {
              labels: {{x}},
              datasets: [{
                  label: '# of Votes',
                  data: {{y}},
                  backgroundColor: 'rgb(255, 99, 132)',
                  borderColor: 'rgb(255, 99, 132)',
                  borderWidth: 1
              }]
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                position: 'left',
              },
              title: {
                display: true,
                text: 'Occurence des numéros'
              }
            }
          },
      });
      </script>
      <script>
        var ctx2 = document.getElementById('myChart2').getContext('2d');
        var ctx3 = document.getElementById('myChart3').getContext('2d');
        var ctx_parNum = document.getElementById('myChart_parNum').getContext('2d');
        var ctx_apparitionNum = document.getElementById('myChart_ApparitionNum').getContext('2d');
        //console.log("{{x}}");
        var myChart2 = new Chart(ctx2, {
            type: 'line',
            data: {
                labels: {{dixaines_x}},
                datasets: [{
                    label: '# of Votes',
                    data: {{dixaines_y}},
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    borderWidth: 1
                }]
            },
            options: {
              responsive: true,
              plugins: {
                legend: {
                  position: 'left',
                },
                title: {
                  display: true,
                  text: 'Occurence des dixaines'
                }
              }
            },
        });
        var myChart3 = new Chart(ctx3, {
            type: 'line',
            data: {
                labels: {{vingtaines_x}},
                datasets: [{
                    label: '# of Votes',
                    data: {{vingtaines_y}},
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    borderWidth: 1
                }]
            },
            options: {
              responsive: true,
              plugins: {
                legend: {
                  position: 'left',
                },
                title: {
                  display: true,
                  text: 'Occurence des vingtaines'
                }
              }
            },
        });
        var myChart_ApparitionNum = new Chart(ctx_apparitionNum, {
            type: 'line',
            data: {
                labels: {{tirage}},
                datasets: [{
                    label: '# of Votes',
                    data: {{apparition}},
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    borderWidth: 1
                }]
            },
            options: {
              responsive: true,
              plugins: {
                legend: {
                  position: 'left',
                },
                title: {
                  display: true,
                  text: 'Apparition du num '+{{num}}
                }
              }
            },
        });
        var myChart_parNum= new Chart(ctx_parNum, {
            type: 'bar',
            data: {
                labels: {{x_num}},
                datasets: [{
                    label: '# of Votes',
                    data: {{y_num}},
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgb(75, 192, 192)',
                    borderWidth: 1
                }]
            },
            options: {
              responsive: true,
              scales: {
                y: {
                  beginAtZero: true
                }
              },
              plugins: {
                legend: {
                  position: 'left',
                },
                title: {
                  display: true,
                  text: 'Proba apparition du num en fonction des autres '+{{num}}
                }
              }
            },
        });

        document.querySelector("#ajax-call2").addEventListener("click", event => {
          event.preventDefault();
          let formData = new FormData();
          formData.append('num2', document.querySelector("#num_a_envoyer2").value);
          const request = new Request('{% url "compute2" %}', {method: 'POST', body: formData});
          fetch(request)
            .then(response => response.json())
            .then(result => {
                myChart_ApparitionNum.data.datasets[0].data = result["apparition"];
                myChart_ApparitionNum.options.plugins.title.text = "numéro "+ document.querySelector("#num_a_envoyer2").value;
                myChart_ApparitionNum.update();
              });
      });

      document.querySelector("#ajax-call1").addEventListener("click", event => {
          event.preventDefault();
          let formData = new FormData();
          formData.append('num1', document.querySelector("#num_a_envoyer1").value);
          const request = new Request('{% url "compute1" %}', {method: 'POST', body: formData});
          fetch(request)
            .then(response => response.json())
            .then(result => {
                myChart_parNum.data.datasets[0].data = result["y_num"];
                myChart_parNum.options.plugins.title.text = "proba pour le num "+ document.querySelector("#num_a_envoyer1").value;
                myChart_parNum.update();
              });
      });

        </script>
        <script>
          var ctx2 = document.getElementById('myChart2').getContext('2d');
          function dixaine() {
            var myChart2 = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: {{dixaines_x}},
                    datasets: [{
                        label: '# of Votes',
                        data: {{dixaines_y}},
                        backgroundColor: 'rgb(255, 99, 132)',
                        borderColor: 'rgb(255, 99, 132)',
                        borderWidth: 1
                    }]
                },
                options: {
                  responsive: true,
                  plugins: {
                    legend: {
                      position: 'left',
                    },
                    title: {
                      display: true,
                      text: 'Occurence des dixaines'
                    }
                  }
                },
            });
          }
          function vingtaine() {
            var myChart2 = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: {{vingtaines_x}},
                    datasets: [{
                        label: '# of Votes',
                        data: {{vingtaines_y}},
                        backgroundColor: 'rgb(255, 99, 132)',
                        borderColor: 'rgb(255, 99, 132)',
                        borderWidth: 1
                    }]
                },
                options: {
                  responsive: true,
                  plugins: {
                    legend: {
                      position: 'left',
                    },
                    title: {
                      display: true,
                      text: 'Occurence des vingtaines'
                    }
                  }
                },
            });
          }
          
          $("#occurences").on('change', function(){
              var selectedVal = $(this).val();
              if (typeof myChart2 !== 'undefined') {
                // the variable is defined
                myChart2.destroy();
              }
              switch(selectedVal){
                  case 'Dixaines':
                      dixaine();
                  break;
                  case 'Vingtaines':
                      vingtaine();
                  break;
                  case 'Trentaines':
                      trentaine();
                  break;
                  case 'Quarantaines':
                      quarantaine();
                  break;
              }
          });
        </script>
  </body>
</html>